<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.easycms.entity.CmsOrgUser">
    <!-- 插入操作 -->
	<insert id="add" parameterType="orgUser">
	    insert into org_basic_info(uid, enterprise_name, license_number, registered_capital, legal_representative, region, address, zip_code, enterprise_type, enterprise_nature, industry_fields, web_site, contact_name, contact_position, phone, email, main_business, resume) 
	    values(#{uid}, #{enterprise_name}, #{license_number}, #{registered_capital}, #{legal_representative}, #{region}, #{address}, #{zip_code}, #{enterprise_type}, #{enterprise_nature}, #{industry_fields}, #{web_site}, #{contact_name}, #{contact_position}, #{phone}, #{email}, #{main_business}, #{resume})
	</insert>
	
	<resultMap type="orgUser" id="orgUserMap">
	<id property="uid" column="uid" />
	<result property="enterprise_name" column="enterprise_name" ></result>
	<result property="license_number" column="license_number" ></result>
	<result property="registered_capital" column="registered_capital" ></result>
	<result property="legal_representative" column="legal_representative" ></result>
	<result property="region" column="region" ></result>
	<result property="address" column="address" ></result>
	<result property="zip_code" column="zip_code" ></result>
	<result property="enterprise_type" column="enterprise_type" ></result>
	<result property="enterprise_nature" column="enterprise_nature" ></result>
	<result property="industry_fields" column="industry_fields" ></result>
	<result property="web_site" column="web_site" ></result>
	<result property="contact_name" column="contact_name" ></result>
	<result property="contact_position" column="contact_position" ></result>
	<result property="phone" column="phone" ></result>
	<result property="email" column="email" ></result>
	<result property="main_business" column="main_business" ></result>
	<result property="resume" column="resume" ></result>
	</resultMap>
	
	<select id="findById" resultMap="orgUserMap" parameterType="long">
	  select 
	  	*
	  from 
	  	org_basic_info
	  where 
	  	uid=#{id}
	</select>
	
	<update id="update" parameterType="orgUser">
	  update org_basic_info set enterprise_name=#{enterprise_name}, license_number=#{license_number}, registered_capital=#{registered_capital}, legal_representative=#{legal_representative}, region=#{region}, address=#{address}, zip_code#{zip_code}, enterprise_type=#{enterprise_type}, enterprise_nature=#{enterprise_nature}, industry_fields=#{industry_fields}, web_site=#{web_site}, contact_name=#{contact_name}, contact_position=#{contact_position}, phone=#{phone}, email=#{email}, main_business=#{main_business}, resume=#{resume} where uid=#{uid}
	</update>
	
	<select id="findByKey" resultType="orgUser" parameterType="map">
	  select * from org_basic_info 
	  <where>	    
	    
	  </where>
	  order by uid desc limit #{showPages},#{pageSize} 
	</select>

	<select id="findByKeyTotal" resultType="int" parameterType="map">
	  select count(*) from org_basic_info
	  <where>
	    
	  </where>
	</select>
	
	<!-- 删除操作 -->
	<delete id="delete" parameterType="long">
	  delete from org_basic_info where aid=#{id}
	</delete>
</mapper>    